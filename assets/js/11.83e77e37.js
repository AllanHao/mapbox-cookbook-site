(window.webpackJsonp=window.webpackJsonp||[]).push([[11,26],{180:function(t,e){},410:function(t,e,a){"use strict";a.r(e);var n=a(65),i=(a(31),a(377)),o=a(455),s=a(401),r=a(369);var l={components:{baseMap:n.default},data:function(){return{container:"m-deckgl-heatmap3d",center:[-1.4157267858730052,52.232395363869415],zoom:5,pitch:40.5,bearing:-27.396674584323023,style:"mapbox://styles/mapbox/dark-v9?optimize=true"}},methods:{handleMapLoaded:function(t){!function(t){var e=new i.a({ambient:.64,diffuse:.6,shininess:32,specularColor:[51,51,51]}),a=new o.a({type:s.a,id:"heatmap",data:r.a("https://uber.osgis.cn/uber-common/deck.gl-data/master/examples/3d-heatmap/heatmap-data.csv"),radius:1e3,coverage:1,upperPercentile:100,colorRange:[[1,152,189],[73,227,206],[216,254,181],[254,237,177],[254,173,84],[209,55,78]],elevationRange:[0,1e3],elevationScale:250,extruded:!0,getPosition:function(t){return[Number(t.lng),Number(t.lat)]},lightSettings:{lightsPosition:[-.144528,49.739968,8e3,-3.807751,54.104682,8e3],ambientRatio:.4,diffuseRatio:.6,specularRatio:.2,lightsStrength:[.8,0,.8,0],numberOfLights:2},opacity:1,material:e});t.addLayer(a)}(t)}}},c=a(0),p=Object(c.a)(l,function(){var t=this.$createElement;return(this._self._c||t)("base-map",{attrs:{container:this.container,center:this.center,zoom:this.zoom,pitch:this.pitch,mapStyle:this.style,bearing:this.bearing},on:{load:this.handleMapLoaded}})},[],!1,null,null,null);e.default=p.exports},59:function(t,e,a){},64:function(t,e,a){"use strict";var n=a(59);a.n(n).a},65:function(t,e,a){"use strict";a.r(e);a(67),a(69),a(70),a(31);var n=a(75),i=a.n(n),o=(a(76),{name:"base-map",props:{container:{type:String,default:"map-".concat((new Date).getTime())},height:{type:Number,default:400},mapStyle:{type:String,default:"mapbox://styles/huanglii/cjmn2rlvn0c8u2sl97kkiep6r"},center:{type:Array,default:function(){return[-74.5,40]}},zoom:{type:Number,default:9},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:22},scrollZoom:{type:Boolean,default:!0},pitch:{type:Number,default:0},bearing:{type:Number,default:0}},data:function(){return{map:null,maploaded:!1}},mounted:function(){var t=this.container,e=this.mapStyle,a=this.center,n=this.zoom,i=this.minZoom,o=this.maxZoom,s=this.scrollZoom,r=this.pitch,l=this.bearing;this.initMap({container:t,style:e,center:a,zoom:n,minZoom:i,maxZoom:o,scrollZoom:s,pitch:r,bearing:l}),window.addEventListener("resize",this.resize)},methods:{initMap:function(t){i.a.accessToken="pk.eyJ1IjoiaHVhbmdsaWkiLCJhIjoiY2pzNHBtendwMDZ2ZDQzbnVmZXdtMDlvdiJ9.GSija86yNNR4ssBtFFpx0g",this.map=new i.a.Map(t),this.map.addControl(new i.a.NavigationControl({showCompass:!1}),"top-left"),this.map.addControl(new i.a.FullscreenControl,"top-left"),this.map.on("load",this.handleMapLoaded)},handleMapLoaded:function(t){this.maploaded=!0,this.$emit("load",t.target),this.map.on("click",this.handleMapClick)},handleMapClick:function(t){var e=this.map.queryRenderedFeatures(t.point);if(e.length>0){var a=e[0],n=a.layer,o=a.properties;(new i.a.Popup).setLngLat(t.lngLat).setHTML(this.createPropHtml(n.id,o)).addTo(this.map)}},createPropHtml:function(t,e){return'\n        <div class="title"><b>'.concat(t,'</b></div>\n        <div class="content">\n          ').concat(Object.keys(e).map(function(t){return"".concat("<p><b>".concat(t,": </b>").concat(e[t],"</p>"))}).join(""),"\n        </div>\n      ")},resize:function(){this.map.resize()}}}),s=(a(64),a(0)),r=Object(s.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"map-wrapper"},[e("div",{style:{width:"100%",height:this.height+"px",borderRadius:"6px"},attrs:{id:this.container}}),this._v(" "),this.maploaded?this._t("default"):this._e()],2)},[],!1,null,null,null);e.default=r.exports}}]);